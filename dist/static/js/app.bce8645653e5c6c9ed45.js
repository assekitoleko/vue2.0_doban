webpackJsonp([6],[,,,,,,function(t,e,n){n(156);var s=n(0)(n(95),n(194),"data-v-531fd41b",null);t.exports=s.exports},function(t,e,n){n(151);var s=n(0)(n(92),n(188),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(165);var s=n(0)(n(89),n(204),"data-v-f3021154",null);t.exports=s.exports},,,,,,function(t,e,n){"use strict";var s=n(16),i=n(4),o=n(83),a=n(80),r=n(79),c=n(84),u=n(81),l=n(82);s.default.use(i.a),e.a=new i.a.Store({modules:{movie:o.a,book:a.a,search:c.a,celebrity:u.a,login:l.a,SubjectItem:r.a}})},,,,,,,,,,,,,,,,,function(t,e,n){n(153);var s=n(0)(n(93),n(191),null,null);t.exports=s.exports},function(t,e,n){n(164);var s=n(0)(n(94),n(202),"data-v-74e0707a",null);t.exports=s.exports},function(t,e,n){"use strict";var s=n(16),i=n(205),o=n(179),a=n.n(o),r=n(176),c=n.n(r),u=n(181),l=n.n(u),d=n(182),v=n.n(d),p=n(180),m=n.n(p),f=n(178),_=n.n(f),h=n(183),g=n.n(h),b=n(177),w=n.n(b);s.default.use(i.a),e.a=new i.a({mode:"history",routes:[{path:"/",redirect:"/movie"},{path:"/movie",name:"Movie",component:a.a,children:[{path:":type",name:"SubjectList",component:v.a},{path:"",name:"MovieIndex",component:m.a},{path:"search/:content",name:"SubjectList",component:v.a},{path:"celebrity/:id",name:"celebrity",component:_.a},{path:"subject/:id",name:"SubjectItem",component:l.a}]},{path:"/book",name:"Book",component:function(){return n.e(4).then(n.bind(null,209))},children:[{path:"search/:content",name:"BookItemList",component:function(){return n.e(3).then(n.bind(null,210))}},{path:"",name:"BookIndex",component:c.a},{path:"subject/:id",name:"BookItem",component:w.a}]},{path:"/login",name:"Login",component:function(){return n.e(2).then(n.bind(null,211))}},{path:"/user/:id",name:"User",component:function(){return n.e(0).then(n.bind(null,213))},meta:{requireAuth:!0}},{path:"/register",name:"Register",component:function(){return n.e(1).then(n.bind(null,212))}},{path:"/test",name:"Test",component:g.a}]})},,function(t,e,n){n(155);var s=n(0)(n(88),n(193),null,null);t.exports=s.exports},,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(16),i=n(59),o=n.n(i),a=n(57),r=n(38),c=n(58),u=n.n(c);s.default.use(u.a),s.default.config.productionTip=!1,new s.default({el:"#app",router:a.a,store:r.a,template:"<App/>",components:{App:o.a}})},function(t,e,n){"use strict";var s=n(9),i=n.n(s),o=n(8),a=n.n(o);e.a={state:{subject:{},classify:"",directors:"",casts:"",genres:"",countries:"",aka:"",posts:[],editScore:""},mutations:{getSingleSubject:function(t,e){t.classify=e.classify,t.subject=e.res,"book"!==e.classify&&(t.directors=e.res.directors,t.casts=e.res.casts,t.genres=e.res.genres.join("/"),t.countries=e.res.countries.join("/"),t.aka=e.res.aka.join(","))},getSubjectComment:function(t,e){t.posts=e.res},editScore:function(t,e){t.editScore=e.score},resetEditScore:function(t){t.editScore=""}},actions:{getSingleSubject:function(t,e){var n=t.commit;return new i.a(function(t,s){var i="/doubanapi/v2/"+e.classify+("book"===e.classify?"/":"/subject/")+e.id;a.a.all([a.a.get(i),a.a.get("/api/comments?item_id="+e.id)]).then(a.a.spread(function(s,i){n({type:"getSingleSubject",classify:e.classify,res:s.data}),n({type:"getSubjectComment",res:i.data}),t(s)})).catch(function(t){console.log(t)})})},submitComment:function(t,e){var n=t.commit;return new i.a(function(t,s){a.a.post("/api/comments",{user_id:e.user_id,item_id:e.item_id,comment:e.comment,username:e.username,score:e.score,vote:0,date:e.date}).then(function(e){n({type:"resetEditScore"}),t()}).catch(function(t){s(t)})})},getNewComment:function(t,e){var n=t.commit;a.a.get("/api/comments?item_id="+e.item_id).then(function(t){n({type:"getSubjectComment",res:t.data})}).catch(function(t){console.log(t)})},votePost:function(t,e){t.commit;return new i.a(function(t,n){console.log(e),a.a.patch("/api/comments/"+e.post_id,{vote:e.vote}).then(function(){t()}).catch(function(t){console.log(t)})})}}}},function(t,e,n){"use strict";var s=n(9),i=n.n(s),o=n(8),a=n.n(o);e.a={state:{loveBooks:[],scienceFictions:[]},mutations:{getIndexBooks:function(t,e){switch(e.tag){case"科幻":t.scienceFictions=e.data;break;case"爱情":t.loveBooks=e.data}}},actions:{getIndexBooks:function(t){var e=t.commit;return new i.a(function(t,n){a.a.all([a.a.get("/doubanapi/v2/book/search?q='科幻'&count=40"),a.a.get("/doubanapi/v2/book/search?q='爱情'&count=10")]).then(a.a.spread(function(n,s){e({type:"getIndexBooks",tag:"科幻",data:n.data.books}),e({type:"getIndexBooks",tag:"爱情",data:s.data.books}),t()})).catch(function(t){console.log(t)})})}}}},function(t,e,n){"use strict";var s=n(9),i=n.n(s),o=n(8),a=n.n(o);e.a={state:{celebrity:{}},mutations:{fetchCelebrity:function(t,e){t.celebrity=e.res}},actions:{fetchCelebrity:function(t,e){var n=t.commit;return new i.a(function(t,s){var i="/doubanapi/v2/movie/celebrity/"+e.id;a.a.get(i).then(function(e){console.log(e),n({type:"fetchCelebrity",res:e.data}),t(e)}).catch(function(t){console.log(t)})})}}}},function(t,e,n){"use strict";var s=n(107),i=n.n(s),o=n(9),a=n.n(o),r=n(60),c=n.n(r),u=n(8),l=n.n(u);e.a={state:{userInfo:{username:"",password:"",id:"",motto:"编辑个性签名",like:[],watched:[]}},mutations:{logedIn:function(t,e){t.userInfo=e.userInfo;var n=c()(e.userInfo);localStorage.setItem("userInfo",n)},logout:function(t){t.userInfo={username:"",user_id:"",motto:"编辑个性签名",like:[],watched:[]},localStorage.removeItem("userInfo")},getuser:function(t){localStorage.getItem("userInfo")&&(t.userInfo=JSON.parse(localStorage.getItem("userInfo")))},changeMotto:function(t,e){t.userInfo.motto=e.userInfo.motto;var n=c()(e.userInfo);localStorage.setItem("userInfo",n)},addWatchState:function(t,e){t.userInfo.like=e.userInfo.like,t.userInfo.watched=e.userInfo.watched;var n=c()(e.userInfo);localStorage.setItem("userInfo",n)}},actions:{login:function(t,e){var n=t.commit;return new a.a(function(t,s){console.log(e),console.log("/api/accounts?username="+e.username+"&password="+e.password),l.a.get("/api/accounts?username="+e.username+"&password="+e.password).then(function(e){if(console.log(e),0===e.data.length)return void alert("没有该账户，请重新输入");alert("登陆成功！"),n({type:"logedIn",userInfo:e.data[0]}),t(e)}).catch(function(t){console.log(t)})})},changeMotto:function(t,e){var n=t.commit;console.log(e);var s="/api/accounts/"+e.user_id;l.a.patch(s,{motto:e.motto}).then(function(t){console.log(t),n({type:"changeMotto",userInfo:t.data})}).catch(function(t){console.log(t)})},fetchUserInfo:function(t,e){var n=t.commit;return new a.a(function(t,s){var i="/api/accounts/"+e.user_id;l.a.get(i).then(function(e){console.log(e),n({type:"fetchUserInfo",userInfo:e.data}),t()}).catch(function(t){console.log(t)})})},addWatchState:function(t,e){var n=t.commit;return new a.a(function(t,s){console.log(e.userInfo);var o=e.userInfo[e.attr];e.isAdd?o.push(e.subjectId):o=o.reduce(function(t,n){return n!==e.subjectId&&t.push(n),t},[]);var a="/api/accounts/"+e.userInfo.id;l.a.patch(a,i()({},e.attr,o)).then(function(t){n({type:"addWatchState",userInfo:t.data})})})},registerAccount:function(t,e){t.commit;return new a.a(function(t,n){var s="/api/accounts?username="+e.username;l.a.get(s).then(function(n){n.data.length>0?t(n.data):l.a.post("/api/accounts",{username:e.username,password:e.password,motto:"编辑个性签名",like:[],watched:[]}).then(function(e){t(e.data)})}).catch(function(t){console.log(t)})})}}}},function(t,e,n){"use strict";var s=n(9),i=n.n(s),o=n(8),a=n.n(o);e.a={state:{in_theaters:[],coming_soon:[],top250:[],us_box:[],noMoreMovie:!1},mutations:{getMovie:function(t,e){switch(e.tag){case"in_theaters":t.in_theaters=e.more?t.in_theaters.concat(e.res):e.res;break;case"coming_soon":t.coming_soon=e.more?t.coming_soon.concat(e.res):e.res;break;case"top250":t.top250=e.more?t.top250.concat(e.res):e.res;break;case"us_box":t.us_box=e.more?t.us_box.concat(e.res):e.res;break;default:t.top250=e.res}},noMoreMovie:function(t){t.noMoreMovie=!0},resetMoreStatus:function(t){t.noMoreMovie=!1}},actions:{getMovie:function(t){var e=t.commit;return new i.a(function(t,n){a.a.all([a.a.get("/doubanapi/v2/movie/in_theaters?count=10"),a.a.get("/doubanapi/v2/movie/coming_soon?count=10"),a.a.get("/doubanapi/v2/movie/top250?count=10")]).then(a.a.spread(function(n,s,i){e({type:"getMovie",tag:"in_theaters",res:n.data.subjects}),e({type:"getMovie",tag:"coming_soon",res:s.data.subjects}),e({type:"getMovie",tag:"top250",res:i.data.subjects}),t()})).catch(function(t){console.log(t)})})},getMovieList:function(t,e){var n=t.commit;return new i.a(function(t,s){var i="/doubanapi/v2/movie/"+e.sort+"?count=20";a.a.get(i).then(function(s){n({type:"getMovie",tag:e.sort,res:s.data.subjects}),t(s)}).catch(function(t){s(t)})})},loadMore:function(t,e){var n=t.commit,s=t.state;a.a.get("/doubanapi/v2/movie/"+e+"?count=20&start="+s[e].length).then(function(t){n(0===t.data.subjects.length?{type:"noMoreMovie"}:{type:"getMovie",tag:e,res:t.data.subjects,more:!0})}).catch(function(t){console.log(t)})}}}},function(t,e,n){"use strict";var s=n(9),i=n.n(s),o=n(8),a=n.n(o);e.a={state:{searchResult:[]},mutations:{searchMovie:function(t,e){t.searchResult=e.res},searchBooks:function(t,e){t.searchResult=e.res}},actions:{searchMovie:function(t,e){var n=t.commit;return new i.a(function(t,s){var i="/doubanapi/v2/movie/search?q="+e.content;a.a.get(i).then(function(e){n({type:"searchMovie",res:e.data.subjects}),t(e)}).catch(function(t){s(t)})})},searchBooks:function(t,e){var n=t.commit;return new i.a(function(t,s){var i="/doubanapi/v2/book/search?q="+e.content;a.a.get(i).then(function(e){console.log(e),n({type:"searchBooks",res:e.data.books}),t()}).catch(function(t){console.log(t)})})}}}},function(t,e,n){"use strict";function s(){var t=new Date,e=t.getFullYear()+"-",n=t.getMonth()+1,s=t.getDate();return n=n>=1&&n<=9?"0"+n+"-":n+"-",s=s>=1&&s<=9?"0"+s:s,e+n+s}function i(t,e){var n="",s=t.length;if(t.replace(/[^\x00-\xff]/g,"**").length<=e)return t;for(var i=0,o=0;i<s;i++){var a=t.charAt(i);if(/[\x00-\xff]/.test(a)?o++:o+=2,!(o<=e))return n;n+=a}}e.a=s,e.b=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"swiper-slide",data:function(){return{slideClass:"swiper-slide"}},ready:function(){this.update()},mounted:function(){this.update(),this.$parent.options.slideClass&&(this.slideClass=this.$parent.options.slideClass)},updated:function(){this.update()},attached:function(){this.update()},methods:{update:function(){this.$parent&&this.$parent.swiper&&this.$parent.swiper.update&&(this.$parent.swiper.update(!0),this.$parent.options.loop&&this.$parent.swiper.reLoop())}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s="undefined"!=typeof window;s&&(window.Swiper=n(53),n(148)),e.default={name:"swiper",props:{options:{type:Object,default:function(){return{autoplay:3500}}}},data:function(){return{defaultSwiperClasses:{wrapperClass:"swiper-wrapper"}}},ready:function(){!this.swiper&&s&&(this.swiper=new Swiper(this.$el,this.options))},mounted:function(){var t=this,e=function(){if(!t.swiper&&s){delete t.options.notNextTick;var e=!1;for(var n in t.defaultSwiperClasses)t.defaultSwiperClasses.hasOwnProperty(n)&&t.options[n]&&(e=!0,t.defaultSwiperClasses[n]=t.options[n]);var i=function(){t.swiper=new Swiper(t.$el,t.options)};e?t.$nextTick(i):i()}};this.options.notNextTick?e():this.$nextTick(e)},updated:function(){this.swiper&&this.swiper.update()},beforeDestroy:function(){this.swiper&&(this.swiper.destroy(),delete this.swiper)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(174),i=n.n(s),o=n(173),a=n.n(o);e.default={name:"app",components:{headerNav:i.a,pageFoot:a.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"SectionHeader",props:["icon","itemList","searchUrl","searchPlaceholder"],data:function(){return{content:""}},methods:{search:function(t){if(13===t.keyCode){if(""===this.content)return void alert("请输入搜索内容");this.$router.push(this.searchUrl+this.content)}}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"pageFoot"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"headerNav",data:function(){return{showLoginMenu:!1}},computed:{logedIn:function(){return this.$store.state.login.userInfo.id||this.$store.commit("getuser"),this.$store.state.login.userInfo.id},loginInfo:function(){return{username:this.logedIn?this.$store.state.login.userInfo.username:"登录",route:this.logedIn?"/user/"+this.$store.state.login.userInfo.id:"/login"}},loginMenuStyle:function(){return{display:this.showLoginMenu?"block":"none"}}},methods:{enter:function(){this.logedIn&&(this.showLoginMenu=!0)},leave:function(){this.showLoginMenu=!1},logout:function(){this.$store.commit("logout"),this.$router.push("/login")}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"loading",data:function(){return{}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"marking"}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(85),i=n(6),o=n.n(i),a=n(4);e.default={name:"postComment",props:["user_id","item_id","username"],data:function(){return{comment:"",wordsLeft:140}},computed:n.i(a.b)({score:function(t){return t.SubjectItem.editScore}}),methods:{submitComment:function(){var t=this;if(""===this.comment)return void alert("评论内容为空");if(""===this.score)return void alert("拜托打个分吧");var e=n.i(s.a)();this.$store.dispatch({type:"submitComment",user_id:this.user_id,item_id:this.item_id,comment:this.comment,username:this.username,score:this.score,date:e}).then(function(e){t.comment="",t.$modal.hide("postComment"),t.$emit("postCommentCompleted")},function(t){console.log(t)})},updateWordsLeft:function(){var t=this.comment,e=t.replace(/[^\x00-\xff]/g,"**").length;e/2>140&&(this.comment=n.i(s.b)(t,280)),this.wordsLeft=Math.ceil(140-e/2)}},components:{ratingStar:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(13),i=n.n(s),o=n(4);e.default={name:"ratingStar",data:function(){return{description:"",top:-150}},props:{commitScore:{default:0}},computed:i()({backgroundPosition:function(){return{backgroundPosition:"0 "+(30*Math.round(this.commitScore)+this.top)+"px"}}},n.i(o.b)({score:function(t){return t.SubjectItem.editScore}})),methods:{rateEnter:function(t){switch(t){case 1:this.description="太差",this.top=-120;break;case 2:this.description="较差",this.top=-90;break;case 3:this.description="一般",this.top=-60;break;case 4:this.description="较好",this.top=-30;break;case 5:this.description="力荐",this.top=0}},rateLeave:function(){""===this.score?(this.description="",this.top=-150):this.rateEnter(this.score)},rateScore:function(t){this.$store.commit({type:"editScore",score:t})}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(54),i=(n.n(s),n(6)),o=n.n(i);e.default={name:"swiperItem",props:["options","swiperList"],components:{swiper:s.swiper,swiperSlide:s.swiperSlide,ratingStar:o.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(13),i=n.n(s),o=n(7),a=n.n(o),r=n(4),c=n(54),u=(n.n(c),n(6)),l=n.n(u);e.default={name:"BookIndex",components:{loading:a.a,swiper:c.swiper,swiperSlide:c.swiperSlide,ratingStar:l.a},data:function(){return{loading:!0,swiperOptions:{pagination:null,slidesPerView:5,slidesPerColumn:2,spaceBetween:20,notNextTick:!0},moreInfoIndex:""}},computed:i()({},n.i(r.b)({loveBooks:function(t){return t.book.loveBooks},scienceFictions:function(t){return t.book.scienceFictions}}),{swiper:function(){return this.$refs.mySwiper.swiper}}),created:function(){var t=this;this.$store.dispatch({type:"getIndexBooks"}).then(function(){t.loading=!1})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(13),i=n.n(s),o=n(7),a=n.n(o),r=n(55),c=n.n(r),u=n(4),l=n(56),d=n.n(l),v=n(6),p=n.n(v);e.default={name:"BookItem",data:function(){return{loading:!0,showAllSummary:!1}},components:{loading:a.a,ratingStar:p.a,postComment:d.a,marking:c.a},computed:i()({bookId:function(){return this.$route.params.id}},n.i(u.b)({userInfo:function(t){return t.login.userInfo},subject:function(t){return t.SubjectItem.subject},posts:function(t){return t.SubjectItem.posts},sub_summary:function(t){return t.SubjectItem.subject.summary.substring(0,200)}}),{author:function(){return this.subject.author.join(",")},translator:function(){return this.subject.translator.join(",")},watchedStyle:function(){return-1!==this.userInfo.watched.indexOf(this.subject.id)?{color:"#fff",backgroundColor:"#ffb712"}:{}},likedStyle:function(){return-1!==this.userInfo.like.indexOf(this.subject.id)?{color:"#fff",backgroundColor:"#ffb712"}:{}}}),methods:{getSingleSubject:function(t,e){var n=this;this.$store.dispatch({type:"getSingleSubject",id:e,classify:t}).then(function(t){n.loading=!1})},addWatchState:function(t){if(""===this.userInfo.id&&this.$store.commit("getuser"),this.userInfo.id){var e=-1!==this.userInfo[t].indexOf(this.subject.id)?0:1;this.$store.dispatch({type:"addWatchState",attr:t,userInfo:this.userInfo,isAdd:e,subjectId:this.subject.id})}else this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},showSummary:function(){this.showAllSummary=!0},votePost:function(t,e){var n=this;if(""===this.userInfo.id&&this.$store.commit("getuser"),this.userInfo.id){if(localStorage.getItem(t+"-"+this.userInfo.id))return void alert("您已为此评论投过票");this.$store.dispatch({type:"votePost",post_id:t,vote:e+1}).then(function(){localStorage.setItem(t+"-"+n.userInfo.id,1),n.getNewComment()})}else this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},getNewComment:function(){this.$store.dispatch({type:"getNewComment",item_id:this.subject.id})},postComment:function(){""===this.userInfo.id&&this.$store.commit("getuser"),this.userInfo.id?this.$modal.show("postComment"):this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})}},created:function(){console.log("start"),this.getSingleSubject("book",this.bookId)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(7),i=n.n(s);e.default={name:"Celebrity",data:function(){return{loading:!0}},computed:{celebrity:function(){return this.$store.state.celebrity.celebrity}},methods:{fetchCelebrity:function(){var t=this,e=this.$route.params.id;this.$store.dispatch({type:"fetchCelebrity",id:e}).then(function(e){t.loading=!1})}},created:function(){this.fetchCelebrity()},components:{loading:i.a},activated:function(){console.log("this component has been cached")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(32),i=n.n(s);e.default={name:"movie",data:function(){return{icon:n(170),searchUrl:"/movie/search/",itemList:[{title:"正在热映",path:"/movie/in_theaters"},{title:"即将上映",path:"/movie/coming_soon"},{title:"top250",path:"/movie/top250"},{title:"北美票房榜",path:"/movie/us_box"}],searchPlaceholder:"电影 影人"}},components:{SectionHeader:i.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(4),i=n(32),o=n.n(i),a=n(6),r=n.n(a),c=n(7),u=n.n(c),l=n(175),d=n.n(l);e.default={name:"movie",data:function(){return{icon:"../assets/douban_movie_icon",searchUrl:"/v2/movie/search?q=",itemList:[{title:"正在热映",path:"/movie/in_theaters"},{title:"即将上映",path:"/movie/coming_soon"},{title:"top250",path:"/movie/top250"},{title:"北美票房榜",path:"/movie/us_box"}],swiperOptions:{pagination:null,slidesPerView:4,paginationClickable:!0},loading:!0}},computed:n.i(s.b)({hotMovies:function(t){return t.movie.in_theaters},topMovies:function(t){return t.movie.top250},newMovies:function(t){return t.movie.coming_soon}}),methods:{getMovie:function(){var t=this;this.$store.dispatch("getMovie").then(function(){t.loading=!1})}},created:function(){this.getMovie()},components:{SectionHeader:o.a,swiperItem:d.a,ratingStar:r.a,loading:u.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(13),i=n.n(s),o=n(4),a=n(7),r=n.n(a),c=n(55),u=n.n(c),l=n(56),d=n.n(l),v=n(6),p=n.n(v);e.default={name:"SubjectItem",data:function(){return{showLoading:!0,showAllSummary:!1}},computed:i()({},n.i(o.b)({subject:function(t){return t.SubjectItem.subject},directors:function(t){return t.SubjectItem.directors},casts:function(t){return t.SubjectItem.casts},genres:function(t){return t.SubjectItem.genres},countries:function(t){return t.SubjectItem.countries},aka:function(t){return t.SubjectItem.aka},posts:function(t){return t.SubjectItem.posts},sub_summary:function(t){return t.SubjectItem.subject.summary.substring(0,200)},userInfo:function(t){return t.login.userInfo}}),{watchedStyle:function(){return-1!==this.userInfo.watched.indexOf(this.subject.id)?{color:"#fff",backgroundColor:"#ffb712"}:{}},likedStyle:function(){return-1!==this.userInfo.like.indexOf(this.subject.id)?{color:"#fff",backgroundColor:"#ffb712"}:{}},original_title:function(){return this.subject.title===this.subject.original_title?"":this.subject.original_title}}),methods:{getSingleSubject:function(t,e){var n=this;this.$store.dispatch({type:"getSingleSubject",id:e,classify:t}).then(function(t){n.showLoading=!1})},postComment:function(){""===this.userInfo.id&&this.$store.commit("getuser"),this.userInfo.id?this.$modal.show("postComment"):this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},getNewComment:function(){this.$store.dispatch({type:"getNewComment",item_id:this.subject.id})},votePost:function(t,e){var n=this;if(""===this.userInfo.id&&this.$store.commit("getuser"),this.userInfo.id){if(localStorage.getItem(t+"-"+this.userInfo.id))return void alert("您已为此评论投过票");this.$store.dispatch({type:"votePost",post_id:t,vote:e+1}).then(function(){localStorage.setItem(t+"-"+n.userInfo.id,1),n.getNewComment()})}else this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})},showSummary:function(){this.showAllSummary=!0},addWatchState:function(t){if(""===this.userInfo.id&&this.$store.commit("getuser"),this.userInfo.id){var e=-1!==this.userInfo[t].indexOf(this.subject.id)?0:1;this.$store.dispatch({type:"addWatchState",attr:t,userInfo:this.userInfo,isAdd:e,subjectId:this.subject.id})}else this.$router.push({path:"/login",query:{redirect:this.$route.fullPath}})}},created:function(){var t=this.$route.params.id;this.getSingleSubject("movie",t)},components:{loading:r.a,marking:u.a,postComment:d.a,ratingStar:p.a}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n(13),i=n.n(s),o=n(4),a=n(172),r=n.n(a),c=n(7),u=n.n(c),l=n(6),d=n.n(l);e.default={name:"SubjectList",data:function(){return{loading:!0}},computed:{movieList:function(){return this.isSearch?this.$store.state.search.searchResult:this.$store.state.movie[this.$route.params.type]},isSearch:function(){return this.$route.params.content},noMoreMovie:function(){return this.$store.state.movie.noMoreMovie},isUsBox:function(){return"us_box"===this.$route.params.type}},methods:i()({getMovieList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=e||this.$route.params.content;if(s)this.$store.dispatch({type:"searchMovie",content:s}).then(function(e){t.loading=!1},function(t){console.log(t)});else{var i=n||this.$route.params.type;this.$store.dispatch({type:"getMovieList",sort:i}).then(function(e){t.loading=!1},function(t){console.log(t)})}},onInfinite:function(){var t=this;this.$store.commit("resetMoreStatus"),setTimeout(function(){t.loadMore(t.$route.params.type),t.noMoreMovie?t.$refs.infiniteLoading.$emit("$InfiniteLoading:complete"):t.$refs.infiniteLoading.$emit("$InfiniteLoading:loaded")},3e3)}},n.i(o.c)(["loadMore"])),created:function(){this.getMovieList()},components:{InfiniteLoading:r.a,loading:u.a,ratingStar:d.a},watch:{$route:function(t,e){this.loading=!0,this.getMovieList()}},filters:{showOriginTitle:function(t,e){return t===e?"":t}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Test",data:function(){return{tooltipStyle:{display:"none"}}},methods:{showtooltip:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.tooltipStyle.display=t?"block":"none"}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,function(t,e){t.exports="data:image/png;base64,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"},function(t,e,n){t.exports=n.p+"static/img/loading_green.c0f9be0.gif"},,function(t,e,n){n(149);var s=n(0)(n(90),n(186),"data-v-0a7e6827",null);t.exports=s.exports},function(t,e,n){n(160);var s=n(0)(n(91),n(198),"data-v-6800d60c",null);t.exports=s.exports},function(t,e,n){n(152);var s=n(0)(n(96),n(190),"data-v-31fbec37",null);t.exports=s.exports},function(t,e,n){n(159);var s=n(0)(n(97),n(197),"data-v-631795f1",null);t.exports=s.exports},function(t,e,n){n(154);var s=n(0)(n(98),n(192),"data-v-40f82878",null);t.exports=s.exports},function(t,e,n){n(161);var s=n(0)(n(99),n(199),"data-v-6ec6392a",null);t.exports=s.exports},function(t,e,n){n(150);var s=n(0)(n(100),n(187),null,null);t.exports=s.exports},function(t,e,n){n(162);var s=n(0)(n(101),n(200),"data-v-6ff662ac",null);t.exports=s.exports},function(t,e,n){n(157);var s=n(0)(n(102),n(195),"data-v-551a35e7",null);t.exports=s.exports},function(t,e,n){n(158);var s=n(0)(n(103),n(196),"data-v-5f1fadf2",null);t.exports=s.exports},function(t,e,n){n(163);var s=n(0)(n(104),n(201),"data-v-73331b9a",null);t.exports=s.exports},function(t,e,n){var s=n(0)(n(86),n(189),null,null);t.exports=s.exports},function(t,e,n){var s=n(0)(n(87),n(203),null,null);t.exports=s.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"pageFoot"}},[n("div",{staticClass:"footer_left"},[t._v("© 2005－2017 douban.com, all rights reserved 北京豆网科技有限公司")]),t._v(" "),n("div",{staticClass:"footer_right"},[n("a",{attrs:{href:"https://www.douban.com/about"}},[t._v("关于豆瓣")]),t._v(" "),n("a",{attrs:{href:"https://www.douban.com/jobs"}},[t._v("在豆瓣工作")]),t._v(" "),n("a",{attrs:{href:"https://www.douban.com/about?topic=contactus"}},[t._v("联系我们")]),t._v(" "),n("a",{attrs:{href:"https://www.douban.com/about?policy=disclaimer"}},[t._v("免责声明")]),t._v(" "),n("a",{attrs:{href:"https://help.douban.com/?app=main"}},[t._v("帮助中心")]),t._v(" "),n("a",{attrs:{href:"https://www.douban.com/doubanapp/"}},[t._v("移动应用")]),t._v(" "),n("a",{attrs:{href:"https://www.douban.com/partner/"}},[t._v("豆瓣广告")])])])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"indexWrapper"}},[n("sectionHeader",{style:{backgroundColor:"#f0f3f5"},attrs:{icon:t.icon,itemList:t.itemList,searchUrl:t.searchUrl,searchPlaceholder:t.searchPlaceholder}}),t._v(" "),n("router-view")],1)},staticRenderFns:[]}},function(t,e,n){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"loading"},[s("img",{attrs:{src:n(171)}})])}]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{class:t.slideClass},[t._t("default")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("swiper",{attrs:{options:t.options}},t._l(t.swiperList,function(e){return n("swiper-slide",{key:e.id},[n("router-link",{staticClass:"movie_item",attrs:{to:"/movie/subject/"+e.id}},[n("img",{attrs:{src:e.images.medium}}),t._v(" "),n("span",[t._v(t._s(e.title))]),t._v(" "),e.rating.average?n("div",[n("rating-star",{attrs:{commitScore:e.rating.average/2}}),t._v(" "),n("div",{staticClass:"movie_item_rating"},[t._v(t._s(e.rating.average))])],1):n("div",[n("span",[t._v("暂无评分")])])])],1)}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{attrs:{id:"marking"}},[t._t("movie"),t._v(" "),t._t("book")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"SubjectItem"}},[t.loading?n("loading"):t._e(),t._v(" "),t.loading?t._e():n("div",{staticClass:"subjectWrapper"},[n("div",{staticClass:"item_title"},[t._v(t._s(t.subject.title))]),t._v(" "),n("div",{staticClass:"subject_rating"},[n("rating-star",{attrs:{commitScore:t.subject.rating.average/2}}),t._v(" "),n("span",[t._v(t._s(t.subject.rating.average))]),t._v(" "),n("span",[t._v(t._s(t.subject.rating.numRaters)+"人评价")])],1),t._v(" "),n("div",{staticClass:"item_content"},[n("div",[n("img",{attrs:{src:t.subject.images.medium}})]),t._v(" "),n("div",{staticClass:"item_content_items"},[n("p",[n("span",{staticClass:"item_title"},[t._v("作者:")]),n("span",{staticClass:"item_value"},[t._v(t._s(t.author))])]),t._v(" "),n("p",[n("span",{staticClass:"item_title"},[t._v("出版社:")]),n("span",{staticClass:"item_value"},[t._v(t._s(t.subject.publisher))])]),t._v(" "),t.subject.translator?n("p",[n("span",{staticClass:"item_title"},[t._v("译者:")]),n("span",{staticClass:"item_value"},[t._v(t._s(t.translator))])]):t._e(),t._v(" "),n("p",[n("span",{staticClass:"item_title"},[t._v("出版年:")]),t._v(t._s(t.subject.pubdate))]),t._v(" "),n("p",[n("span",{staticClass:"item_title"},[t._v("页数:")]),n("span",{staticClass:"item_value"},[t._v(t._s(t.subject.pages))])]),t._v(" "),n("p",[n("span",{staticClass:"item_title"},[t._v("定价:")]),n("span",{staticClass:"item_value"},[t._v(t._s(t.subject.price))])])])]),t._v(" "),n("div",[n("button",{staticClass:"editComment",on:{click:t.postComment}},[t._v("写点评")])]),t._v(" "),n("div",{staticClass:"item_desc"},[n("span",{staticStyle:{"line-height":"30px"}},[t._v("内容简介.......")]),t._v(" "),t.sub_summary===t.subject.summary||t.showAllSummary?n("p",[t._v("\n        "+t._s(t.subject.summary)+"\n      ")]):n("p",[t._v("\n        "+t._s(t.sub_summary)),n("span",{on:{click:t.showSummary}},[t._v("(展开全部)")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.posts.length,expression:"posts.length"}],staticClass:"postsWrapper"},[n("p",{staticClass:"item_desc"},[t._v(t._s(t.subject.title)+"的最新评论......")]),t._v(" "),n("div",{staticClass:"posts"},t._l(t.posts,function(e){return n("div",{staticClass:"subject_post"},[n("div",{staticClass:"post_title"},[n("p",[n("span",{staticClass:"post_poster"},[t._v(t._s(e.username))]),t._v(" "),n("span",[t._v("看过")]),t._v(" "),n("rating-star",{attrs:{commitScore:e.score}}),t._v(" "),n("span",{staticClass:"post_time"},[t._v(t._s(e.date))])],1),t._v(" "),n("span",{staticClass:"post_vote"},[t._v(t._s(e.vote)+" "),n("span",{staticClass:"linkStyle",on:{click:function(n){t.votePost(e.id,e.vote)}}},[t._v("有用")])])]),t._v(" "),n("div",[t._v(t._s(e.comment))])])}))])]),t._v(" "),n("postComment",{attrs:{user_id:t.userInfo.id,item_id:t.$route.params.id,username:t.userInfo.username},on:{postCommentCompleted:t.getNewComment}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("headerNav"),t._v(" "),n("router-view"),t._v(" "),n("pageFoot")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"ratingStarWrapper"}},[t.commitScore?[n("span",{staticClass:"ratingStar",style:t.backgroundPosition},t._l(5,function(t){return n("span",{key:t})}))]:[n("span",{staticClass:"ratingStar",style:t.backgroundPosition},t._l(5,function(e){return n("span",{key:e,on:{mouseenter:function(n){t.rateEnter(e)},mouseleave:function(e){t.rateLeave()},click:function(n){t.rateScore(e)}}})})),t._v(" "),n("span",{staticClass:"rating-star-desc"},[t._v(t._s(t.description))]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.score,expression:"score"}],attrs:{type:"hidden"},domProps:{value:t.score},on:{input:function(e){e.target.composing||(t.score=e.target.value)}}})]],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"SubjectItem"}},[t.showLoading?t._e():n("div",{staticClass:"subjectWrapper"},[n("div",{staticClass:"item_title"},[t._v(t._s(t.subject.title)+" "+t._s(t.original_title)+" "),n("span",[t._v("("+t._s(t.subject.year)+")")])]),t._v(" "),n("div",{staticClass:"subject_rating"},[t.subject.rating.average?[n("rating-star",{attrs:{commitScore:t.subject.rating.average/2}}),t._v(" "),n("span",[t._v(t._s(t.subject.rating.average))]),t._v(" "),n("span",[t._v(t._s(t.subject.ratings_count)+"人评价")])]:n("span",[t._v("尚未上映")])],2),t._v(" "),n("div",{staticClass:"item_content"},[n("div",[n("img",{attrs:{src:t.subject.images.medium}})]),t._v(" "),n("div",{staticClass:"item_content_items"},[n("p",[n("span",[t._v("导演:")]),t._v(" "),t._l(t.directors,function(e){return n("router-link",{key:e.id,attrs:{to:"/movie/celebrity/"+e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])})],2),t._v(" "),n("p",[n("span",[t._v("主演:")]),t._v(" "),t._l(t.casts,function(e){return n("router-link",{key:e.id,attrs:{to:"/movie/celebrity/"+e.id}},[t._v("\n            "+t._s(e.name)+"\n          ")])})],2),t._v(" "),n("p",[n("span",[t._v("影片类型:")]),t._v(t._s(t.genres))]),t._v(" "),n("p",[n("span",[t._v("制片国家/地区:")]),t._v(t._s(t.countries))]),t._v(" "),n("p",[n("span",[t._v("又名:")]),t._v(t._s(t.aka))])])]),t._v(" "),n("marking",[n("template",{slot:"movie"},[n("span",{style:t.likedStyle,on:{click:function(e){t.addWatchState("like")}}},[t._v(t._s(t.subject.wish_count)+"人想看")]),t._v(" "),n("span",{style:t.watchedStyle,on:{click:function(e){t.addWatchState("watched")}}},[t._v(t._s(t.subject.collect_count)+"人看过")])])],2),t._v(" "),n("div",[n("button",{staticClass:"editComment",on:{click:t.postComment}},[t._v("写点评")])]),t._v(" "),n("div",{staticClass:"item_desc"},[n("span",{staticStyle:{"line-height":"30px"}},[t._v(t._s(t.subject.title)+"的剧情简介.......")]),t._v(" "),t.sub_summary===t.subject.summary||t.showAllSummary?n("p",[t._v("\n        "+t._s(t.subject.summary)+"\n      ")]):n("p",[t._v("\n        "+t._s(t.sub_summary)),n("span",{on:{click:t.showSummary}},[t._v("(展开全部)")])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.posts.length,expression:"posts.length"}],staticClass:"postsWrapper"},[n("p",{staticClass:"item_desc"},[t._v(t._s(t.subject.title)+"的最新评论......")]),t._v(" "),n("div",{staticClass:"posts"},t._l(t.posts,function(e){return n("div",{staticClass:"subject_post"},[n("div",{staticClass:"post_title"},[n("p",[n("span",{staticClass:"post_poster"},[t._v(t._s(e.username))]),t._v(" "),n("span",[t._v("看过")]),t._v(" "),n("rating-star",{attrs:{commitScore:e.score}}),t._v(" "),n("span",{staticClass:"post_time"},[t._v(t._s(e.date))])],1),t._v(" "),n("span",{staticClass:"post_vote"},[t._v(t._s(e.vote)+" "),n("span",{staticClass:"linkStyle",on:{click:function(n){t.votePost(e.id,e.vote)}}},[t._v("有用")])])]),t._v(" "),n("div",[t._v(t._s(e.comment))])])}))])],1),t._v(" "),n("loading",{directives:[{name:"show",rawName:"v-show",value:t.showLoading,expression:"showLoading"}]}),t._v(" "),n("postComment",{attrs:{user_id:t.userInfo.id,item_id:t.$route.params.id,username:t.userInfo.username},on:{postCommentCompleted:t.getNewComment}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"SubjectList_wrapper"}},[t.loading?n("loading"):n("div",[t.isSearch&&0===t.movieList.length?n("div",{staticClass:"notFound"},[n("span",[t._v("豆瓣没有这部电影")])]):t.isUsBox?n("ul",t._l(t.movieList,function(e){return n("li",[n("router-link",{staticClass:"movie_item",attrs:{to:"/movie/subject/"+e.subject.id}},[n("div",[n("img",{attrs:{src:e.subject.images.medium}})]),t._v(" "),n("div",{staticClass:"movie_item_desc"},[n("p",[n("span",[t._v("上周排名:")]),t._v(t._s(e.rank))]),t._v(" "),n("p",[t._v(t._s(e.subject.title))]),t._v(" "),n("p",[n("span",[t._v("上周票房:")]),t._v(t._s(Math.round(1e-4*e.box))+"万美元")]),t._v(" "),n("p",[n("span",[t._v("是否新上映:")]),t._v(t._s(e.new?"NEW":"Already on screen"))]),t._v(" "),n("p",[n("span",[t._v("评分:")]),t._v(t._s(0===e.subject.rating.average?"暂无评分":e.subject.rating.average))])])])],1)})):n("ul",t._l(t.movieList,function(e){return n("li",[n("router-link",{staticClass:"movie_item",attrs:{to:"/movie/subject/"+e.id}},[n("div",[n("img",{attrs:{src:e.images.medium}})]),t._v(" "),n("div",{staticClass:"movie_item_desc"},[n("p",[t._v(t._s(e.title)+" "+t._s(t._f("showOriginTitle")(e.original_title,e.title)))]),t._v(" "),n("p",[t._v(t._s(e.year))]),t._v(" "),n("p",{staticClass:"subject_rating"},[e.rating.average?[n("rating-star",{attrs:{commitScore:e.rating.average/2}}),n("span",[t._v(t._s(e.rating.average))])]:[n("p",[t._v("暂无评分")])]],2)])])],1)})),t._v(" "),t.isSearch||t.isUsBox?t._e():n("InfiniteLoading",{ref:"infiniteLoading",attrs:{"on-infinite":t.onInfinite}},[n("span",{attrs:{slot:"no-more"},slot:"no-more"},[t._v("客官，我们真的只能找到这么多了...")]),t._v(" "),n("span",{attrs:{slot:"no-results"},slot:"no-results"},[t._v("对不起 啥都找不到啊！")])])],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"bookIndexWrapper"}},[n("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),t._v(" "),t.loading?t._e():n("div",{staticClass:"main"},[n("div",{staticClass:"scienceFictions"},[n("h3",[t._v("科幻小说\n        "),n("span",{staticClass:"slideTurn",on:{click:function(e){t.swiper.slideNext()}}},[t._v("›")]),t._v(" "),n("span",{staticClass:"slideTurn",on:{click:function(e){t.swiper.slidePrev()}}},[t._v("‹")])]),t._v(" "),n("swiper",{ref:"mySwiper",attrs:{options:t.swiperOptions}},t._l(t.scienceFictions,function(e,s){return n("swiper-slide",{key:e.id,staticClass:"swiper_slide"},[n("router-link",{staticClass:"fiction_item",attrs:{to:"/book/subject/"+e.id}},[n("img",{attrs:{src:e.images.medium}}),t._v(" "),n("span",[n("span",{staticClass:"linkStyle"},[t._v(t._s(e.title))])]),t._v(" "),n("span",{staticClass:"fiction_item_author"},[t._v(t._s(e.author.join(",")))])])],1)}))],1),t._v(" "),n("div",{staticClass:"loveBooks"},[n("h3",[t._v("爱情小说")]),t._v(" "),n("div",{staticClass:"loveBooksWrapper"},t._l(t.loveBooks,function(e){return n("div",{key:e.id,staticClass:"love_book"},[n("router-link",{attrs:{to:"/book/subject/"+e.id}},[n("div",{staticClass:"love_info"},[n("div",{staticClass:"love_cover"},[n("img",{attrs:{src:e.images.small}})]),t._v(" "),n("div",[n("p",[n("span",{staticClass:"linkStyle"},[t._v(t._s(e.title))])]),t._v(" "),n("p",{staticClass:"love_rating"},[n("rating-star",{attrs:{commitScore:e.rating.average/2}}),n("span",[t._v(t._s(e.rating.average))])],1),t._v(" "),n("p",[t._v("作者: "+t._s(e.author.join(",")))]),t._v(" "),n("p",[t._v(t._s(e.publisher))])])]),t._v(" "),n("div",{staticClass:"love_summary"},[t._v("\n              "+t._s(e.summary)+"\n            ")])])],1)}))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"headerNav"}},[n("span",[n("router-link",{attrs:{to:"/"}},[t._v("豆瓣")])],1),t._v(" "),n("ul",[n("li",[n("router-link",{staticClass:"movie_option",attrs:{to:"/movie"}},[t._v("电影")])],1),t._v(" "),n("li",[n("router-link",{staticClass:"book_option",attrs:{to:"/book"}},[t._v("读书")])],1),t._v(" "),n("li",{on:{mouseenter:t.enter,mouseleave:t.leave}},[n("router-link",{staticClass:"login",attrs:{to:t.loginInfo.route}},[t._v(t._s(t.loginInfo.username))]),t._v(" "),n("ul",{staticClass:"account_actions",style:t.loginMenuStyle},[n("li",{attrs:{id:"logout"},on:{click:t.logout}},[t._v("退出")])])],1)])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"celebrity"}},[t.loading?n("loading"):n("div",{staticClass:"celebrityWrapper main"},[n("p",{staticClass:"celebrity_title"},[t._v(t._s(t.celebrity.name)+" "+t._s(t.celebrity.name_en))]),t._v(" "),n("div",{staticClass:"celebrity_info"},[n("div",[n("img",{attrs:{src:t.celebrity.avatars.medium}})]),t._v(" "),n("div",{staticClass:"celebrity_msg"},[n("p",[n("span",[t._v("出生地:")]),t._v(" "+t._s(t.celebrity.born_place))]),t._v(" "),n("p",[n("span",[t._v("性别:")]),t._v(" "+t._s(t.celebrity.gender))]),t._v(" "),n("p",[n("span",[t._v("更多中文名:")]),t._v(" "),t._l(t.celebrity.aka,function(e){return n("span",[t._v(t._s(e))])})],2),t._v(" "),n("p",[n("span",[t._v("更多英文名:")]),t._v(" "),t._l(t.celebrity.aka_en,function(e){return n("span",[t._v(t._s(e))])})],2)])]),t._v(" "),n("div",{staticClass:"popular_works"},[n("p",{staticClass:"celebrity_works"},[t._v("最受欢迎的5部作品 · · · · · ·")]),t._v(" "),n("ul",t._l(t.celebrity.works,function(e){return n("li",[n("router-link",{attrs:{to:"/movie/subject/"+e.subject.id}},[n("h3",[t._v(t._s(e.subject.year))]),t._v(" "),n("div",[n("img",{attrs:{src:e.subject.images.small}}),t._v(" "),n("p",{staticClass:"celebrity_work_title"},[t._v(t._s(e.subject.title))]),t._v(" "),n("p",{staticClass:"celebrity_work_rating"},[t._v(t._s(e.subject.rating.average))])])])],1)}))])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.loading?t._e():n("div",[n("div",{staticClass:"moviesSection"},[n("p",[t._v("影院热映"),n("router-link",{attrs:{to:"/movie/in_theaters"}},[t._v("更多")])],1),t._v(" "),n("swiperItem",{attrs:{options:t.swiperOptions,swiperList:t.hotMovies}})],1),t._v(" "),n("div",{staticClass:"moviesSection"},[n("p",[t._v("即将上映"),n("router-link",{attrs:{to:"/movie/coming_soon"}},[t._v("更多")])],1),t._v(" "),n("swiperItem",{attrs:{options:t.swiperOptions,swiperList:t.newMovies}})],1),t._v(" "),n("div",{staticClass:"moviesSection"},[n("p",[t._v("top250"),n("router-link",{attrs:{to:"/movie/top250"}},[t._v("更多")])],1),t._v(" "),n("swiperItem",{attrs:{options:t.swiperOptions,swiperList:t.topMovies}})],1)]),t._v(" "),t.loading?n("loading"):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"test"}},[n("span",{on:{mouseenter:t.showtooltip,mouseleave:function(e){t.showtooltip(!1)}}},[t._v("test hover tooltip")]),t._v(" "),n("div",{style:t.tooltipStyle,attrs:{id:"tooltip"}},[n("div",[t._v("最好的迅雷电影下载网,分享最新电影,高清电影、综艺、动漫、电视剧等下载!... ·\n      [最新电影下载]2017年科幻惊悚恐怖《异形:契约》BD中英双字幕 2017-08-02 ·[最新...\n    ")])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("modal",{attrs:{name:"postComment",classes:["v--modal","postComment"]}},[n("div",{staticClass:"commentWrapper"},[n("p",[n("span",[t._v("给个评价吧?")]),n("rating-star")],1),t._v(" "),n("div",{},[n("h3",[t._v("写评价"),n("span",[t._v(t._s(t.wordsLeft))])]),t._v(" "),n("textarea",{directives:[{name:"model",rawName:"v-model.trim",value:t.comment,expression:"comment",modifiers:{trim:!0}}],attrs:{name:"comment",rows:"6"},domProps:{value:t.comment},on:{keyup:t.updateWordsLeft,input:function(e){e.target.composing||(t.comment=e.target.value.trim())},blur:function(e){t.$forceUpdate()}}})]),t._v(" "),n("div",[n("span",{staticClass:"commit",on:{click:t.submitComment}},[t._v("发布")])])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"swiper-container"},[t._t("parallax-bg"),t._v(" "),n("div",{class:t.defaultSwiperClasses.wrapperClass},[t._t("default")],2),t._v(" "),t._t("pagination"),t._v(" "),t._t("button-prev"),t._v(" "),t._t("button-next"),t._v(" "),t._t("scrollbar")],2)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"section_header_wrapper"}},[n("div",{staticClass:"section_header_title main"},[n("img",{attrs:{src:t.icon}}),t._v(" "),n("div",{staticClass:"inp"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],attrs:{type:"text",placeholder:t.searchPlaceholder},domProps:{value:t.content},on:{keydown:t.search,input:function(e){e.target.composing||(t.content=e.target.value)}}})]),t._v(" "),n("router-link",{ref:"search",staticClass:"search_button",attrs:{to:t.searchUrl+t.content}})],1),t._v(" "),n("div",{staticClass:"section_divider"}),t._v(" "),n("div",{staticClass:"section_header_itemList main"},[n("ul",t._l(t.itemList,function(e){return n("li",[n("router-link",{staticClass:"linkStyle",attrs:{to:e.path}},[t._v(t._s(e.title))])],1)}))])])},staticRenderFns:[]}}],[78]);
//# sourceMappingURL=app.bce8645653e5c6c9ed45.js.map